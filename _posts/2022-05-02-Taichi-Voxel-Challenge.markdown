---
layout: post-mathjax
title: "Dream to be a butterflyğŸ¦‹ï¼ˆåº„ç”Ÿæ™“æ¢¦è¿·è´è¶ï¼‰å¹•å"
date: 2022-05-02 20:33
disqus: true
categories: Computer Graphics
---

> æ€ä¹ˆä¹Ÿé£ä¸å‡ºï¼ŒèŠ±èŠ±çš„ä¸–ç•Œï¼ŒåŸæ¥æˆ‘æ˜¯ä¸€åªï¼Œé…’é†‰çš„è´è¶ï½

<center>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=2&id=1943643788&auto=1&height=32"></iframe>
</center>

### èµ·

æœ€è¿‘æŠ•äº†ä¸€ç¯‡è®ºæ–‡ï¼Œæ°é€¢äº”ä¸€å‡æœŸï¼Œå¬åˆ°å®éªŒå®¤å¸ˆå¼Ÿåˆ†äº«äº†[é¦–å±Š Taichi ä½“ç´ åˆ›æ„å¤§èµ›](https://mp.weixin.qq.com/s/qYrsNKpRG4NiLNm4URueDw)ï¼Œå°±æ¥ç©äº†ï¼ˆ~~æ‰ä¸æ˜¯ä¸ºäº†å…è´¹çš„Tæ¤å‘¢~~ï¼‰ã€‚ç„¶åå®¡äº†ä¸€ä¸‹é¢˜ï¼Œå¼€å§‹åˆ’é‡ç‚¹ï¼š

- 99è¡Œä»£ç 
- ä¸‰ä¸ªç»´åº¦ä½“ç´ ç½‘æ ¼èŒƒå›´æ˜¯[-64, 63]
- é™¤äº† **sceneã€taichiã€taichi.math** ä»¥å¤–ä¸èƒ½ import åˆ«çš„åŒ…ï¼Œä¸èƒ½ä½¿ç”¨æ–‡ä»¶ IOï¼Œä¹Ÿä¸èƒ½åˆ›å»ºæ–°çš„ fieldã€‚

è¿™å°±é™åˆ¶äº†å¾ˆå¤šéªšæ“ä½œï¼Œä½†æ˜¯å®˜æ–¹ä»ç„¶æœ‰ç»™å‡º[å‚è€ƒåšå®¢](https://mp.weixin.qq.com/s/KzlrWKhli5OwQvw5NrzLoQ)ã€‚è™½ç„¶æŒ‰ç…§è¿™ä¸ªåšå®¢æ€è·¯å¯ä»¥åˆ›ä½œå‡ºå¾ˆå¤šä½œå“ï¼Œä½†æ˜¯æˆ‘å°±å–œæ¬¢æç‚¹ä¸ä¸€æ ·çš„ï¼Œå“ˆå“ˆå“ˆã€‚åŸæ–‡æ˜¯ç”¨**MagicaCSG**çš„åŸºæœ¬å‡ ä½•å›¾å½¢åŸå‹ï¼ˆçƒã€åœ†æŸ±ã€æ–¹å—å’Œæ£±é”¥ï¼‰æ‹¼è£…æˆç›®æ ‡å½¢çŠ¶ã€‚æ­£å¥½æˆ‘æƒ³èµ·äº†ä¹‹å‰çœ‹åˆ°è¿‡çš„ä¸€äº›æœ‰æ„æ€çš„å‡½æ•°å¯ä»¥ç”»å‡ºå¥½çœ‹çš„å›¾å½¢ï¼ŒåŒ…æ‹¬çˆ±å¿ƒå’Œè´è¶ï¼Œä¸åªè¿™äº›å¸¸è§çš„è§„åˆ™å‡ ä½•å›¾å½¢ã€‚è¿™ä¹Ÿæ˜¯æˆ‘æ¥ä¸‹æ¥çš„åˆ›ä½œçš„åˆè¡·ä¹‹ä¸€ï¼Œå¦å¤–ä¸€éƒ¨åˆ†åˆè¡·åˆ™æ˜¯å…³äºæˆ‘åœ¨è¿™ä¸ªæ˜¥å¤©é‡Œçš„é‡è§ã€‚I am an artist!!!

![æˆ‘çš„ä½œå“ï¼šDream to be a butterflyğŸ¦‹(åº„ç”Ÿæ™“æ¢¦è¿·è´è¶)](https://github.com/marktube/voxel-challenge/raw/main/screenshot2022-05-01-160008.jpg)

### æ‰¿

ä¹‹å‰åœ¨ç”¨MathStudioçš„æ—¶å€™ï¼Œçœ‹åˆ°è¿‡æ•™ç¨‹é‡Œé¢çš„å¥½çœ‹æ›²çº¿ï¼Œç»™æˆ‘ç•™ä¸‹äº†æ·±åˆ»çš„å°è±¡ï¼Œä¸‹é¢å…ˆç»™å‡ºä¸Šå›¾ä¸­ç”¨åˆ°çš„æ›²çº¿æ–¹ç¨‹ï¼Œç¬¬ä¸€ä¸ªï¼Œè´è¶æ›²çº¿ï¼š

![butterfly curve](https://github.com/marktube/marktube.github.io/raw/master/assets/images/butterfly_curve.png)

æ›²çº¿æ–¹ç¨‹ä¸ºï¼š

$$
r = e^{\sin{\theta}}-2\cos{4\theta}+\sin^5{\frac{2\theta-\pi}{24}},\,\theta\in [0,21\pi]
$$

ç¬¬äºŒä¸ªï¼Œçˆ±å¿ƒæ›²çº¿ï¼š

![heart curve](https://github.com/marktube/marktube.github.io/raw/master/assets/images/heart_curve.png)

æ›²çº¿æ–¹ç¨‹ä¸ºï¼š

$$
r = 3 - 3 \sin\theta + \frac{\sin\theta \sqrt{\lvert\cos\theta\rvert}}{\sin\theta+1.6},\,\theta\in[0,2\pi]
$$

ç¬¬ä¸‰ä¸ªï¼Œå¤§å®¶éƒ½ç†Ÿæ‚‰çš„äºŒç»´é«˜æ–¯åˆ†å¸ƒï¼š

![gaussian2d](https://github.com/marktube/marktube.github.io/raw/master/assets/images/gaussian2d.png)

åˆ†å¸ƒå‡½æ•°ç›´æ¥å»çœ‹[æˆ‘ä»¥å‰çš„åšå®¢](https://marktube.github.io/2017/10/12/Random-variables-and-their-distribution)å§ï½

ç„¶åé™„é€ä¸€ä¸ªèŠ±èŠ±çš„æ›²çº¿ï¼š

![flower curve](https://github.com/marktube/marktube.github.io/raw/master/assets/images/flower_curve.png)

æ›²çº¿æ–¹ç¨‹ä¸ºï¼š

$$
r=\sin{4\theta},\,\theta\in[0,2\pi]
$$


æœ€åé€ä¸€ä¸ªæ›²é¢ï¼Œå¦‚æœæœ‰ç©ºçš„è¯æ‰“ç®—ç”¨å®ƒæ¥åšé‚£ç§é«˜è„šé…’æ¯çš„æ¯å­éƒ¨åˆ†ï¼š

![sqrt_x2_y2](https://github.com/marktube/marktube.github.io/raw/master/assets/images/sqrt_x2_y2.png)

æ›²é¢æ–¹ç¨‹ä¸ºï¼š

$$
z=\sqrt{x^2+y^2}
$$

æ³¨æ„ä¸€ä¸‹æ¯”èµ›ä¸­åæ ‡ç³»æ˜¯yè½´æœä¸Šå“¦ã€‚å¦å¤–ï¼Œæ— èŠçš„è¯å¯ä»¥è¯•ç€è°ƒæ•´ä¸€ä¸‹å„ä¸ªå‡½æ•°é‡Œé¢çš„æ•°å­—ï¼Œç”¨matlabæˆ–è€…pythonç”»å‡ºæ¥çœ‹çœ‹æœ‰ä»€ä¹ˆä¸ä¸€æ ·ã€‚

### è½¬

æœ‰äº†è¿™äº›æ›²çº¿æˆ–è€…æ›²é¢ä¹‹åï¼Œæˆ‘ä»¬èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿä¹‹å‰çœ‹è¿‡[æ–¯å¦ç¦çš„å›¾å½¢å­¦å‡ ä½•å¤„ç†ç®—æ³•çš„è¯¾ä»¶](http://graphics.stanford.edu/courses/cs468-10-fall/LectureSlides/04_Surface_Reconstruction.pdf)é‡Œé¢ä»‹ç»çš„éšå¼è¡¨è¾¾ï¼Œä¹Ÿå°±æ˜¯ç¬¦å·è·ç¦»å‡½æ•°ï¼ˆSDF=Signed Distance Functionï¼‰ã€‚å¯¹äºä¸€ä¸ªç®€å•çš„å•ä½çƒé¢æ¥è¯´ï¼Œè¿™ä¸ªçƒçš„æ–¹ç¨‹æ˜¯ï¼š

$$
x^2+y^2+z^2=1
$$

ä¸ºäº†åŒºåˆ†ç©ºé—´ä¸­ä»»æ„ä¸€ç‚¹æ˜¯åœ¨çƒä½“å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªå‡½æ•°ï¼š

$$
f(x,y,z)=x^2+y^2+z^2-1
$$

å½“$f(x_0,y_0,z_0)<0$æ—¶è¿™ä¸€ç‚¹$(x_0,y_0,z_0)$åœ¨çƒçš„å†…éƒ¨ã€‚ä¸ºäº†ç”»å‡ºè¿™ä¸ªçƒï¼Œå¯ä»¥ç”¨å‡ ä¸ªå¾ªç¯æ¥éå†ä½“ç´ ç©ºé—´ä¸­çš„æ‰€æœ‰ç‚¹ï¼ŒæŠŠæ‰€æœ‰ç‚¹çš„åæ ‡æ”¾è¿›è¿™ä¸ªç¬¦å·è·ç¦»å‡½æ•°ä¸­ï¼Œåˆ¤æ–­ç‚¹æ˜¯å¦åœ¨çƒå†…ï¼Œè‹¥æ˜¯åˆ™ç”»å‡ºè¯¥æ–¹å—ã€‚

æœ‰äº†ä»¥ä¸Šçš„æ€è·¯ï¼Œåªéœ€è¦æŠŠä¸Šé¢çš„æ›²çº¿æˆ–æ›²é¢æ–¹ç¨‹è½¬åŒ–ä¸ºSDFå°±è¡Œï¼ŒåŒæ—¶æ³¨æ„ä½“ç´ ç©ºé—´å¤§å°ï¼Œå¯ä»¥åŠ ä¸ªåŒ…å›´ç›’ï¼Œåœ¨åŒ…å›´ç›’ç©ºé—´ä¸­ç”»æ–¹å—ã€‚ä½†æ˜¯ä¹Ÿéœ€è¦å¯¹ä½“ç´ ç©ºé—´åæ ‡è¿›è¡Œç¼©æ”¾å’Œä½ç§»ï¼Œåˆ°SDFå¯¹åº”çš„åæ ‡ç©ºé—´ï¼Œç„¶åå†è¿›è¡Œå†…å¤–çš„åˆ¤æ–­ã€‚åœ¨ç”»ä¹‹å‰ä¹Ÿå¯ä»¥åŠ å…¥ä½ç§»å’Œæ—‹è½¬è¾¾åˆ°å¯¹åº”çš„æ•ˆæœï¼Œä½ç§»å¯ä»¥ç›´æ¥åŠ æ³•ï¼Œæ—‹è½¬å…·ä½“å¯ä»¥çœ‹taichi.rotate3då‡½æ•°ã€‚

æœ‰ä¸€äº›æåæ ‡è¡¨ç¤ºçš„æ›²çº¿æ–¹ç¨‹éœ€è¦è½¬æ¢ä¸€ä¸‹åæ ‡ç³»ï¼Œè¿˜æœ‰å°±æ˜¯è¦æ³¨æ„arcsinå‡½æ•°çš„å€¼åŸŸæ˜¯$[-\frac{\pi}2,\frac{\pi}2]$è¿˜è¦åˆ¤æ–­ä¸€ä¸‹$x$çš„å€¼æ‰èƒ½ç¡®å®šçœŸæ­£çš„è§’åº¦ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œçš„çº¿æ˜¯å…³äºyè½´å¯¹ç§°çš„ï¼Œæ‰€ä»¥åªç”¨arcsinå°±è¡Œã€‚

å¯¹äºè´è¶æ›²çº¿æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªäºŒç»´çš„æ›²çº¿ï¼Œç”»å‡ºäºŒç»´ä¹‹åæˆ‘è€ƒè™‘å†åŠ å…¥ä¸€ä¸ªç¿…è†€æ‰‡åŠ¨çš„å¹…åº¦ï¼Œè¦è®©è¿™ä¸ªå¹…åº¦æ›´åŠ çš„ä¼˜é›…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å·²æœ‰çš„XoYå¹³é¢ä¸Šç”»å‡ºè´è¶åï¼Œåœ¨Zè½´ä¸Šéœ€è¦å†åŠ å…¥ä¸€äº›åç§»æ¥è¾¾åˆ°ç¿…è†€æ‰‡åŠ¨çš„æ•ˆæœã€‚æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä»¤$z=\lvert x\rvert$ï¼Œä½†æ˜¯è¿™ç§çº¿æ€§çš„å¹¶ä¸å¥½çœ‹ã€‚æ™šä¸Šçš„æ—¶å€™æˆ‘å¶ç„¶æƒ³èµ·å›¾åƒå¤„ç†è¯¾ç¨‹ä¸­çš„ä¼½é©¬å˜æ¢:

![gamma transform](https://github.com/marktube/marktube.github.io/raw/master/assets/images/gamma_transform.png)

çœ‹çœ‹è¿™æ›²çº¿ï¼Œè„‘è¡¥ä¸€ä¸‹ï¼ŒçœŸçš„å¾ˆåƒç…½åŠ¨ç¿…è†€æ—¶çš„è½¨è¿¹ï¼Œå¦‚æœæŠŠå®ƒç”¨åˆ°è¿™é‡Œç®€ç›´æ˜¯å¤ªåˆé€‚äº†ï¼ˆ~~æˆ‘çœŸçš„æ˜¯ä¸ªå¤©æ‰~~ï¼‰ï¼Œåªèƒ½æ„Ÿå¹çµæ„Ÿå¦‚æ˜™èŠ±ä¸€ç°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜ä½œå‡ºäº†ä¸€ä¸ªå¤§èƒ†çš„å‡è®¾ï¼Œè´è¶ç¿…è†€æ‰‡åŠ¨æ—¶çš„$z$åæ ‡æ˜¯ä¸**è¯¥ç‚¹åˆ°åŸç‚¹çš„è·ç¦»ç›¸å…³**ï¼Œè€Œä¸ä»…ä»…åªæ˜¯$x$å€¼ã€‚ç”±æ­¤ï¼Œæˆ‘ä¹Ÿç»ˆäºè§£å†³äº†ç¿…è†€æ‰‡åŠ¨çš„é—®é¢˜ã€‚

ç„¶åå°±æ˜¯çˆ±å¿ƒæ›²çº¿ï¼Œä¸ºäº†è®©å®ƒæ›´åŠ ä¸°æ»¡ï¼Œä¹Ÿéœ€è¦åœ¨zè½´ä¸ŠåŠ å…¥ä¸€äº›å‡¸èµ·ï¼Œè¿™é‡Œæˆ‘å°±ç›´æ¥é‡‡ç”¨äº†äºŒç»´çš„é«˜æ–¯åˆ†å¸ƒã€‚è¿™é‡Œè¿˜è¦å¤šè¯´ä¸€å¥ï¼Œé«˜æ–¯åˆ†å¸ƒçœŸçš„å¾ˆå¥½ç”¨ï¼Œå‡å€¼å’Œæ–¹å·®è°ƒæ•´ä¸€ä¸‹èƒ½ç»™æˆ‘ä»¬å¾ˆå¤šæ–¹ä¾¿ã€‚

![heart_voxel](https://github.com/marktube/marktube.github.io/raw/master/assets/images/screenshot2022-05-04-212516.jpg)

æœ€åå°±æ˜¯å±±å’Œäº‘äº†ï¼Œå±±é¡¶ä¸Šè¿˜åŠ å…¥äº†äº¿ç‚¹ç‚¹é›ªï¼Œè¯è¯´å›æ¥æ˜¯ä¸æ˜¯æœ‰ç‚¹è¿‡äºæŠ½è±¡äº†ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯ç”¨çš„äºŒç»´é«˜æ–¯åˆ†å¸ƒç”»çš„ï¼Œæ²¡æƒ³åˆ°å§å“ˆå“ˆå“ˆã€‚äº‘å½©æ˜¯åŠ å…¥äº†ä¸€ç‚¹ç‚¹å¹³ç§»è€Œå·²ã€‚å…¶ä½™éƒ¨åˆ†è¯·å‚è€ƒ[ä»£ç ä»“åº“](https://github.com/marktube/voxel-challenge)ã€‚

### åˆ

æœ€åæ¥éšæ„è¯´è¯´æ„Ÿæƒ³å§ã€‚æ•°å­¦æ˜¯ååˆ†ä¼˜é›…å’Œç®€æ´çš„å·¥å…·ï¼Œè‰ºæœ¯å’Œæ•°å­¦çœ‹èµ·æ¥å¥½åƒé£é©¬ç‰›ä¸ç›¸åŠï¼Œå…¶å®å´æ˜¯ä¸€è¡£å¸¦æ°´ï¼Œä¸ä¿¡è¯·çœ‹è¾¾èŠ¬å¥‡ã€‚$128^3$çœ‹èµ·æ¥å¾ˆå¤§ï¼Œå…¶å®ä¹Ÿå¾ˆå°ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥æŠŠfloorè®¾ç½®æˆå¤§æµ·çš„é¢œè‰²å•¦ã€‚å…‰çº¿çš„è®¾ç½®ä¸Šï¼Œâ€œæ™“â€çš„æ—¶é—´åº”è¯¥ä¸èƒ½å¤ªäº®ï¼Œå°±æŠŠå…‰è°ƒä½äº†ï¼Œç„¶åä¸ºäº†çªå‡ºè´è¶ï¼ŒæŠŠè´è¶çš„è‰²å—æ”¹æˆäº†å…‰æºã€‚åº„å‘¨æ¢¦è¶æ˜¯å¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„å…¸æ•…ï¼Œæ‰€ä»¥ä¸€å¼€å§‹ä¹Ÿæ˜¯æƒ³å›´ç»•è¿™ä¸ªé¢˜æè¿›è¡Œåˆ›ä½œã€‚åŠ å…¥å±±ã€æµ·ã€äº‘è¿™äº›å®å¤§çš„æ„è±¡ï¼Œç„¶åå’Œå¾®å°çš„è´è¶æ”¾åœ¨ä¸€èµ·ï¼Œä½“ç°å‡ºä¸€ç§ç‰©å“€ç¾å­¦ï¼Œâ€œå¯„èœ‰è£äºå¤©åœ°ï¼Œæ¸ºæ²§æµ·ä¹‹ä¸€ç²Ÿâ€ã€‚è¿œå¤„çš„å¤ªé˜³è¢«æ›¿æ¢æˆå°å¿ƒå¿ƒä¼¼ä¹æé†’è¿™æ˜¯æ¢¦ï¼ˆ~~å¥½äº†ï¼Œæˆ‘ç¼–ä¸ä¸‹å»äº†~~ï¼‰ã€‚

æœ€åç¥å¤§å®¶éƒ½èƒ½åœ¨æ¯”èµ›ä¸­ç©å¾—å¼€å¿ƒï¼Œå¸Œæœ›æˆ‘çš„åšå®¢ä¹Ÿèƒ½ç»™å¤§å®¶å¸¦æ¥ä¸€äº›æ–°çš„æ€è·¯ã€‚æˆ‘çš„è¡¨è¾¾å¯èƒ½æœ‰äº›ç–æ¼ï¼Œä»…ä»£è¡¨ä¸ªäººè§‚ç‚¹ï¼Œå¦‚æœæœ‰é—®é¢˜å¯ä»¥ç»§ç»­è®¨è®ºã€‚åç»­å¦‚æœæœ‰æ—¶é—´çš„è¯ï¼Œè€ƒè™‘æŠŠå±±æ”¹æˆé«˜æ–¯æ··åˆæ¨¡å‹ï¼Œå†ç»™å¤§å®¶æ•´ä¸ªæ´»ï¼Œé…’é†‰çš„è´è¶å®‰æ’ä¸Šï½




â€è‹¥çŸ¥æ˜¯æ¢¦ä½•é¡»é†’,ä¸æ¯”çœŸå¦‚ä¸€ç›¸ä¼šã€‚â€œ
